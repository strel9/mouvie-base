(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{10:function(e,t,a){e.exports=a.p+"static/media/logo.02a9430b.svg"},12:function(e,t,a){e.exports=a(19)},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(5),o=a.n(c),r=a(11),i=a(1),s=a(2),m=a(4),v=a(3),u=a(6),d=(a(17),function(e){var t=e.vote;return n.a.createElement(n.a.Fragment,null,n.a.createElement(u.a,{value:t,text:"".concat(t,"%"),strokeWidth:7,styles:Object(u.b)({textColor:"#1B69D9",pathColor:"#1B69D9",trailColor:""})}))}),b=a(8),p=a.n(b),E=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).state={willWatch:!1},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,l=t.removeMovie,c=t.addMovieToWillWatch,o=t.removeMovieToWillWatch;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"card-img col-6"},a.poster_path?n.a.createElement("img",{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:""}):n.a.createElement("img",{className:"card-img-top",src:p.a,alt:""})),n.a.createElement("div",{className:"card-body col-6"},n.a.createElement("h6",{className:"card-title"},a.title),n.a.createElement(d,{vote:a.vote_average}),n.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},this.state.willWatch?n.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),o(a)}},"Remove Will Watch"):n.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.setState({willWatch:!0}),c(a)}},"Will Watch"),n.a.createElement("button",{className:"btn btn-primary",onClick:l.bind(null,a)},"Del movie")),n.a.createElement("div",null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...")))}}]),a}(l.Component),h=a(9),f=a.n(h),y=function(e){var t=e.sort_by,a=e.updateSortBy;return n.a.createElement("ul",{className:"tabs nav nav-pills"},["popularity.desc","revenue.desc","vote_average.desc"].map((function(e){var l,c=f()("nav-link",{active:t===e});return n.a.createElement("li",{className:"nav-item"},n.a.createElement("div",{className:c,onClick:(l=e,function(){return a(l)})},e.replace("."," ")))})))},W=(a(18),a(10)),g=a.n(W),N=function(e){Object(m.a)(a,e);var t=Object(v.a)(a);function a(){var e;return Object(i.a)(this,a),(e=t.call(this)).getMovie=function(){fetch("".concat("https://api.themoviedb.org/3/","discover/movie?api_key=").concat("3f4ca4f3a9750da53450646ced312397","&sort_by=").concat(e.state.sort_by)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results})}))},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(r.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieToWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.updateSortBy=function(t){e.setState({sort_by:t})},e.state={movies:[],moviesWillWatch:[],sort_by:"popularity.desc"},console.log("constructor"),e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){console.log("didmount"),this.getMovie()}},{key:"componentDidUpdate",value:function(e,t){console.log("didUodate"),console.log("prev",e,t),console.log("this",this.props,this.state),t.sort_by!==this.state.sort_by&&(console.log("call api"),this.getMovie())}},{key:"render",value:function(){var e=this,t=this.state,a=t.movies,l=t.moviesWillWatch;return console.log("render",this.state.sort_by),console.log("render-state",this.state),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"header d-flex align-items-center"},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"navbar d-flex justify-content-between align-items-center"},n.a.createElement("a",{className:"navbar-item d-flex",href:"/"},n.a.createElement("img",{className:"",src:g.a,alt:"logo"})),n.a.createElement("div",{className:"d-flex align-items-center"},n.a.createElement("input",{type:"text",placeholder:"\u043f\u043e\u0438\u0441\u043a"}),n.a.createElement("div",null,"\u041b\u043e\u0433\u0438\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),n.a.createElement("button",{className:"btn btn-primary"},"\u0412\u043e\u0439\u0442\u0438"))))),n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-3"},n.a.createElement("div",null," \u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c: ",l.length),n.a.createElement("h3",null,"\u0424\u0438\u043b\u044c\u0442\u0440\u044b"),n.a.createElement("form",null,n.a.createElement("button",{className:"btn-primary"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"),n.a.createElement("div",null,n.a.createElement("label",null,"\u0421\u043e\u0440\u0438\u0442\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u043e:"),n.a.createElement("select",null)),n.a.createElement("div",null,n.a.createElement("label",null,"\u0413\u043e\u0434 \u0440\u0435\u043b\u0438\u0437\u0430:"),n.a.createElement("select",null)),n.a.createElement("div",null,n.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440:"),n.a.createElement("div",null,n.a.createElement("input",{type:"checkbox"}),n.a.createElement("label",null,"\u0411\u043e\u0435\u0432\u0438\u043a")),n.a.createElement("div",null,n.a.createElement("input",{type:"checkbox"}),n.a.createElement("label",null,"\u041a\u043e\u043c\u0435\u0434\u0438\u044f"))),n.a.createElement("div",{className:"pagination"},n.a.createElement("div",{className:"btn-group"},n.a.createElement("button",{className:"btn-primary"},"\u041d\u0430\u0437\u0430\u0434"),n.a.createElement("button",{className:"btn-primary"},"\u0412\u043f\u0435\u0440\u0435\u0434")),n.a.createElement("div",null,"1 \u0438\u0437 500")))),n.a.createElement("div",{className:"col-9"},n.a.createElement("div",{className:"row mb-4"},n.a.createElement("div",{className:"col-12"},n.a.createElement(y,{sort_by:this.state.sort_by,updateSortBy:this.updateSortBy}))),n.a.createElement("div",{className:"row"},a.map((function(t){return n.a.createElement("div",{className:"col-6 mb-4",key:t.id},n.a.createElement(E,{movie:t,removeMovie:e.removeMovie,addMovieToWillWatch:e.addMovieToWillWatch,removeMovieToWillWatch:e.removeMovieToWillWatch}))})))))))}}]),a}(n.a.Component);o.a.render(n.a.createElement(N,null),document.getElementById("root"))},8:function(e,t,a){e.exports=a.p+"static/media/no_foto.fcfc35e0.jpg"}},[[12,1,2]]]);
//# sourceMappingURL=main.bb4d248c.chunk.js.map