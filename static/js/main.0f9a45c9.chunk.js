(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/logo.02a9430b.svg"},30:function(e,t,a){e.exports=a.p+"static/media/no_foto.fcfc35e0.jpg"},33:function(e,t,a){e.exports=a(46)},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),c=a.n(i),l=a(5),o=a(6),s=a(8),m=a(7),v=(a(38),a(52)),u=a(16),d=a(3),h=a.n(d),g=(a(39),function(e){var t=e.src,a=e.alt,n=e.className,i=e.width,c=e.height,l=e.circle,o=Object(u.a)(e,["src","alt","className","width","height","circle"]),s=h()(n,{circle:l});return t||(t="https://via.placeholder.com/".concat(i,"x").concat(c)),r.a.createElement("img",Object.assign({src:t,alt:a,className:s,width:i,height:c},o))});g.defaultProps={src:"",alt:"image",width:"",height:"",circle:!1,className:""};var p=g,f=(a(40),function(e){var t=e.id,a=e.className,n=e.label,i=e.error,c=Object(u.a)(e,["id","className","label","error"]),l=h()("input",a,{error:i});return r.a.createElement("div",{className:"inputWrapper"},r.a.createElement("div",{className:"labelsWrapper"},n&&r.a.createElement("label",{className:"inputLabel",htmlFor:t},n),c.required&&r.a.createElement("span",{className:"inputRequired"},"Required")),r.a.createElement("input",Object.assign({name:t,id:t,className:l},c)),i&&r.a.createElement("span",{className:"inputError"},i))});f.defaultProps={className:"",label:"",error:""};var E=a(26),b=a.n(E),y=function(){return r.a.createElement("div",{className:"header d-flex align-items-center"},r.a.createElement("div",{className:"container"},r.a.createElement(v.a,{className:"navbar d-flex justify-content-between align-items-center"},r.a.createElement("a",{className:"navbar-item d-flex",href:"/movie-base/"},r.a.createElement(p,{src:b.a,alt:"logo",width:80,height:80})))))},W=a(22),N=a(51),M=a(53),P=a(48),_=function(e){var t=e.moviesWillWatch,a=e.moviesGenre,n=e.moviesGenreActive,i=e.currentPage,c=e.totalPages,l=e.addMoviesGenre,o=e.removeMoviesGenre,s=e.onChangePopularity,m=e.onChangeYear,v=e.paginationIncrease,u=e.paginationDecrease,d=function(){for(var e=[],t=(new Date).getFullYear();t>1970;t--)e.push(t);return e}();return r.a.createElement("div",{className:"card"},r.a.createElement("h3",{className:"card-top"},"Filters"),r.a.createElement(N.a,{className:""},r.a.createElement("div",null,r.a.createElement(N.a.Label,null,"Sort By:"),r.a.createElement(N.a.Control,{as:"select",onChange:s},[{id:"popularity.desc",name:"Popularity \u2193"},{id:"popularity.asc",name:"Popularity \u2191"},{id:"release_date.desc",name:"Release Date \u2193"},{id:"release_date.asc",name:"Release Date \u2191"},{id:"vote_average.desc",name:"Vote \u2193"},{id:"vote_average.asc",name:"Vote \u2191"},{id:"original_title.asc",name:"Title A-Z"},{id:"original_title.desc",name:"Title Z-A"}].map((function(e){return r.a.createElement("option",{key:e.name,value:e.id},e.name)})))),r.a.createElement("div",null,r.a.createElement(N.a.Label,null,"Release Year:"),r.a.createElement(N.a.Control,{as:"select",onChange:m},r.a.createElement("option",null,"\u0421hoose year:"),d.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement(N.a.Label,null,"\u0421hoose genre:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,a.map((function(e){var t=e.name,a=e.id,i=-1!==n.indexOf(a);return r.a.createElement(M.a,{key:a,className:i?"active":"",variant:"outline-primary",onClick:function(){return i?o(a):l(a)}},t)}))))),r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"btn-group d-flex align-items-center"},r.a.createElement(M.a,{variant:"primary",onClick:function(){return u()}},"Back"),r.a.createElement("div",null,"".concat(i," \u0438\u0437 ").concat(c)),r.a.createElement(M.a,{variant:"primary",onClick:function(){v()}},"Forward")))),r.a.createElement("div",{className:"card"},r.a.createElement("div",null,"Will watch: ",t.length),t.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,e.title),r.a.createElement("div",null,r.a.createElement(P.a,{className:"card-img",src:"https://image.tmdb.org/t/p/w500".concat(e.poster_path),alt:"card-img"})," "))}))))},j=a(49),G=a(29),C=a(18),O=a.n(C),k=a(30),w=a.n(k),x=a(21),A=(a(44),a(45),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={willWatch:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.removeMovie,i=t.addMovieToWillWatch,c=t.removeMovieToWillWatch,l=a.poster_path?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:"card-img"})):r.a.createElement(p,{className:"card-img-top",src:w.a,alt:"card-img"}),o=this.state.willWatch?r.a.createElement(M.a,{className:"card-item__like",variant:"danger",onClick:function(){e.setState({willWatch:!1}),c(a)}},r.a.createElement(O.a,{className:"",name:"heart",size:"1x",style:{color:"rgb(27, 105, 217)"}})):r.a.createElement(M.a,{className:"card-item__like",variant:"light",onClick:function(){e.setState({willWatch:!0}),i(a)}},r.a.createElement(O.a,{className:"",name:"heart",size:"1x",style:{color:"rgb(27, 105, 217)"}}));M.a,n.bind(null,a),O.a;return r.a.createElement(j.a,{className:"card-item-relative"},r.a.createElement(G.a,{xs:12,lg:12,className:""},l,r.a.createElement("div",null,r.a.createElement("h5",{className:"card-title pt-2"},a.title),r.a.createElement("div",{className:"card__progressbar",style:{width:50,height:50}},r.a.createElement(x.a,{value:10*a.vote_average,text:"".concat(10*a.vote_average,"%"),strokeWidth:7,styles:Object(x.b)({textColor:"#1B69D9",pathColor:"#1B69D9",trailColor:""})})),o)))}}]),a}(n.Component)),S=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=e.movies,a=e.removeMovie,n=e.addMovieToWillWatch,i=e.removeMovieToWillWatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,null,t.map((function(e){return r.a.createElement(G.a,{xs:6,md:6,lg:4,className:"card mb-4",key:e.id},r.a.createElement(A,{movie:e,removeMovie:a,addMovieToWillWatch:n,removeMovieToWillWatch:i}))}))))}}]),a}(n.Component),T=a(50),D="https://api.themoviedb.org/3/",Y="e087dbd99b6b5cf5949d0943b02906a5",B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],moviesGenre:[],moviesGenreActive:[],moviesWillWatch:[],currentPage:1,totalPages:null,sort_by:"popularity.desc",sortByPrimaryReleaseYear:null},e.getMovie=function(){var t=e.state,a=t.sort_by,n=t.currentPage,r=t.moviesGenreActive,i=t.sortByPrimaryReleaseYear;fetch("".concat(D,"discover/movie?api_key=").concat(Y,"&sort_by=").concat(a,"&page=").concat(n,"&with_genres=").concat(r,"&primary_release_year=").concat(i)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results,totalPages:t.total_pages})}))},e.getMovieGenre=function(){fetch("".concat(D,"genre/movie/list?api_key=").concat(Y)).then((function(e){return e.json()})).then((function(t){return e.setState({moviesGenre:t.genres})}))},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(W.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieToWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.paginationIncrease=function(){var t=e.state.currentPage+1;e.setState({currentPage:t}),console.log(e.state.currentPage)},e.paginationDecrease=function(){if(e.state.currentPage>=2){console.log(e.state.currentPage);var t=e.state.currentPage-1;e.setState({currentPage:t})}},e.onChangePopularity=function(t){e.setState({sort_by:t})},e.onChangeYear=function(t){e.setState({sortByPrimaryReleaseYear:t})},e.addMoviesGenre=function(t){var a=[].concat(Object(W.a)(e.state.moviesGenreActive),[t]);e.setState({moviesGenreActive:a,currentPage:1})},e.removeMoviesGenre=function(t){var a=e.state.moviesGenreActive.filter((function(e){return e!==t}));e.setState({moviesGenreActive:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMovie(),this.getMovieGenre()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by===this.state.sort_by&&t.currentPage===this.state.currentPage&&t.moviesGenreActive===this.state.moviesGenreActive&&t.sortByPrimaryReleaseYear===this.state.sortByPrimaryReleaseYear||(this.getMovie(),this.getMovieGenre())}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.moviesGenre,n=e.moviesGenreActive,i=e.moviesWillWatch,c=e.currentPage,l=e.totalPages,o=e.sort_by,s=this.onChangePopularity,m=this.onChangeYear,v=this.removeMovie,u=this.addMoviesGenre,d=this.removeMoviesGenre,h=this.addMovieToWillWatch,g=this.removeMovieToWillWatch,p=this.paginationIncrease,f=this.paginationDecrease;return r.a.createElement(T.a,null,r.a.createElement(j.a,null,r.a.createElement(G.a,{xs:12,sm:12,md:3,lg:3},r.a.createElement(_,{currentPage:c,totalPages:l,moviesWillWatch:i,movies:t,moviesGenre:a,moviesGenreActive:n,addMoviesGenre:u,removeMoviesGenre:d,sort_by:o,onChangePopularity:function(e){return s(e.target.value)},onChangeYear:function(e){return m(e.target.value)},paginationIncrease:p,paginationDecrease:f})),r.a.createElement(G.a,{xs:12,sm:12,md:9,lg:9},r.a.createElement(S,{movies:t,removeMovie:v,addMovieToWillWatch:h,removeMovieToWillWatch:g}))))}}]),a}(n.Component),R=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(B,null))}}]),a}(r.a.Component);c.a.render(r.a.createElement(R,null),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.0f9a45c9.chunk.js.map