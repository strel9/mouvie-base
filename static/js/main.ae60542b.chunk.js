(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.02a9430b.svg"},22:function(e,t,a){e.exports=a.p+"static/media/no_foto.fcfc35e0.jpg"},23:function(e,t,a){e.exports=a(36)},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),l=a(5),o=a(6),s=a(8),m=a(7),u=(a(28),a(9)),v=a(2),d=a.n(v),h=(a(29),function(e){var t=e.src,a=e.alt,n=e.className,i=e.width,c=e.height,l=e.circle,o=Object(u.a)(e,["src","alt","className","width","height","circle"]),s=d()(n,{circle:l});return t||(t="https://via.placeholder.com/".concat(i,"x").concat(c)),r.a.createElement("img",Object.assign({src:t,alt:a,className:s,width:i,height:c},o))});h.defaultProps={src:"",alt:"image",width:"",height:"",circle:!1,className:""};var p=h,g=(a(30),function(e){var t=e.children,a=e.onClick,n=e.className,i=e.disabled,c=e.active,l=Object(u.a)(e,["children","onClick","className","disabled","active"]),o=d()("btn",n,{active:c}),s=l.href?"a":"button";return r.a.createElement(s,Object.assign({className:o,disabled:i,onClick:function(e){if(!i)return a(e);e.preventDefault()}},l),t)});g.defaultProps={children:"Default button",onClick:function(){},className:"",disabled:!1,active:!1};var f=g,b=(a(31),function(e){var t=e.id,a=e.className,n=e.label,i=e.error,c=Object(u.a)(e,["id","className","label","error"]),l=d()("input",a,{error:i});return r.a.createElement("div",{className:"inputWrapper"},r.a.createElement("div",{className:"labelsWrapper"},n&&r.a.createElement("label",{className:"inputLabel",htmlFor:t},n),c.required&&r.a.createElement("span",{className:"inputRequired"},"Required")),r.a.createElement("input",Object.assign({name:t,id:t,className:l},c)),i&&r.a.createElement("span",{className:"inputError"},i))});b.defaultProps={className:"",label:"",error:""};var E=b,y=a(18),W=a.n(y),N=function(){return r.a.createElement("div",{className:"header d-flex align-items-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar d-flex justify-content-between align-items-center"},r.a.createElement("a",{className:"navbar-item d-flex",href:"/"},r.a.createElement(p,{src:W.a,alt:"logo",width:80,height:80})),r.a.createElement("div",{className:"d-flex align-items-center"},r.a.createElement(E,{type:"text",placeholder:"\u043f\u043e\u0438\u0441\u043a",id:"1"}),r.a.createElement("div",null,"\u041b\u043e\u0433\u0438\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),r.a.createElement(f,null,"\u0412\u043e\u0439\u0442\u0438")))))},M=a(13),j=a(19),G=a(39),_=a(40),C=function(e){var t=e.moviesWillWatch,a=e.moviesGenre,n=e.moviesGenreActive,i=e.currentPage,c=e.total_pages,l=e.addMoviesGenre,o=e.removeMoviesGenre,s=e.onChangePopularity,m=e.onChangeYear,u=e.paginationIncrease,v=e.paginationDecrease,d=function(){for(var e=[],t=(new Date).getFullYear();t>1970;t--)e.push(t);return e}();return r.a.createElement(j.a,{xs:12,md:3,lg:3},r.a.createElement("div",null,"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c: ",t.length),r.a.createElement("h3",null,"Filters"),r.a.createElement(G.a,null,r.a.createElement("div",null,r.a.createElement(G.a.Label,null,"Sort By:"),r.a.createElement(G.a.Control,{as:"select",onChange:s},["popularity.desc","revenue.desc","vote_average.desc"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement(G.a.Label,null,"Release Year:"),r.a.createElement(G.a.Control,{as:"select",onChange:m},r.a.createElement("option",null,"\u0432\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0433\u043e\u0434"),d.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement(G.a.Label,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,a.map((function(e){var t=e.name,a=e.id,i=-1!==n.indexOf(a);return r.a.createElement(_.a,{key:a,className:i?"active":"",onClick:function(){return i?o(a):l(a)}},t)}))))),r.a.createElement("button",{className:"btn-primary"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"),r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"btn-group"},r.a.createElement(_.a,{className:"btn-primary",onClick:function(){return v()}},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("div",null,"".concat(i," \u0438\u0437 ").concat(c)),r.a.createElement(_.a,{className:"btn-primary",onClick:function(){u()}},"\u0412\u043f\u0435\u0440\u0435\u0434")))))},P=a(37),O=a(12),k=(a(35),function(e){var t=e.vote;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{value:10*t,text:"".concat(10*t,"%"),strokeWidth:7,styles:Object(O.b)({textColor:"#1B69D9",pathColor:"#1B69D9",trailColor:""})}))}),w=a(21),S=a.n(w),x=a(22),A=a.n(x),B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={willWatch:!1},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.removeMovie,i=t.addMovieToWillWatch,c=t.removeMovieToWillWatch;return r.a.createElement(P.a,null,r.a.createElement("div",{className:"card-img col-6"},a.poster_path?r.a.createElement(r.a.Fragment,null,r.a.createElement(p,{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:"card-img"})):r.a.createElement("img",{className:"card-img-top",src:A.a,alt:""})),r.a.createElement("div",{className:"card-body col-6"},r.a.createElement(S.a,{className:"",name:"heart",size:"2x",style:{color:"rgb(27, 105, 217)"}}),r.a.createElement(k,{vote:a.vote_average}),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},this.state.willWatch?r.a.createElement("button",{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),c(a)}},"Remove Watch"):r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){e.setState({willWatch:!0}),i(a)}},"Will Watch"),r.a.createElement("button",{className:"btn btn-primary",onClick:n.bind(null,a)},"Del movie")),r.a.createElement("h6",{className:"card-title"},a.title),r.a.createElement("div",null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...")))}}]),a}(n.Component),D=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.currentPage,e.movies),a=(e.sort_by,e.sort_year,e.updateSortBy,e.removeMovie),n=e.addMovieToWillWatch,i=e.removeMovieToWillWatch;return r.a.createElement("div",{className:"col-12 col-sm-9"},r.a.createElement("div",{className:"row mb-4"},r.a.createElement("div",{className:"col-12"})),r.a.createElement("div",{className:"row"},t.map((function(e){return r.a.createElement("div",{className:"col-6 mb-4",key:e.id},r.a.createElement(B,{movie:e,removeMovie:a,addMovieToWillWatch:n,removeMovieToWillWatch:i}))}))))}}]),a}(n.Component),T=a(38),Y="https://api.themoviedb.org/3/",R="e087dbd99b6b5cf5949d0943b02906a5",F=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],moviesGenre:[],moviesGenreActive:[],moviesWillWatch:[],currentPage:1,total_pages:null,sort_by:"popularity.desc",sortByPrimaryReleaseYear:null},e.getMovie=function(){var t=e.state,a=t.sort_by,n=t.currentPage,r=t.moviesGenreActive,i=t.sortByPrimaryReleaseYear;fetch("".concat(Y,"discover/movie?api_key=").concat(R,"&sort_by=").concat(a,"&page=").concat(n,"&with_genres=").concat(r,"&primary_release_year=").concat(i)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results,total_pages:t.total_pages})}))},e.getMovieGenre=function(){fetch("".concat(Y,"genre/movie/list?api_key=").concat(R)).then((function(e){return e.json()})).then((function(t){return e.setState({moviesGenre:t.genres})}))},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(M.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieToWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.paginationIncrease=function(){var t=e.state.currentPage+1;e.setState({currentPage:t}),console.log(e.state.currentPage)},e.paginationDecrease=function(){if(e.state.currentPage>=2){console.log(e.state.currentPage);var t=e.state.currentPage-1;e.setState({currentPage:t})}},e.updateSortBy=function(t){e.setState({sort_by:t})},e.onChangePopularity=function(t){e.setState({sort_by:t})},e.onChangeYear=function(t){e.setState({sortByPrimaryReleaseYear:t})},e.addMoviesGenre=function(t){var a=[].concat(Object(M.a)(e.state.moviesGenreActive),[t]);e.setState({moviesGenreActive:a})},e.removeMoviesGenre=function(t){var a=e.state.moviesGenreActive.filter((function(e){return e!==t}));e.setState({moviesGenreActive:a})},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.getMovie(),this.getMovieGenre()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by!==this.state.sort_by&&(this.getMovie(),this.getMovieGenre()),t.currentPage!==this.state.currentPage&&(this.getMovie(),this.getMovieGenre()),t.moviesGenreActive!==this.state.moviesGenreActive&&(this.getMovie(),this.getMovieGenre()),t.sortByPrimaryReleaseYear!==this.state.sortByPrimaryReleaseYear&&(this.getMovie(),this.getMovieGenre())}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.moviesGenre,n=e.moviesGenreActive,i=e.moviesWillWatch,c=e.currentPage,l=e.total_pages,o=e.sort_by,s=e.sort_year,m=this.onChangePopularity,u=this.onChangeYear,v=this.updateSortBy,d=this.removeMovie,h=this.addMoviesGenre,p=this.removeMoviesGenre,g=this.addMovieToWillWatch,f=this.removeMovieToWillWatch,b=this.paginationIncrease,E=this.paginationDecrease;return r.a.createElement(T.a,null,r.a.createElement(P.a,null,r.a.createElement(C,{currentPage:c,total_pages:l,moviesWillWatch:i,movies:t,moviesGenre:a,moviesGenreActive:n,addMoviesGenre:h,removeMoviesGenre:p,sort_by:o,onChangePopularity:function(e){return m(e.target.value)},onChangeYear:function(e){return u(e.target.value)},paginationIncrease:b,paginationDecrease:E}),r.a.createElement(D,{currentPage:c,movies:t,sort_by:o,sort_year:s,updateSortBy:v,removeMovie:d,addMovieToWillWatch:g,removeMovieToWillWatch:f})))}}]),a}(n.Component),I=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(N,null),r.a.createElement(F,null))}}]),a}(r.a.Component);c.a.render(r.a.createElement(I,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.ae60542b.chunk.js.map