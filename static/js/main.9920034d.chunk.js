(this.webpackJsonpmovie=this.webpackJsonpmovie||[]).push([[0],{18:function(e,t,a){e.exports=a.p+"static/media/logo.02a9430b.svg"},21:function(e,t,a){e.exports=a.p+"static/media/no_foto.fcfc35e0.jpg"},23:function(e,t,a){e.exports=a(34)},28:function(e,t,a){},29:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(17),c=a.n(i),o=a(5),l=a(6),s=a(8),m=a(7),v=(a(28),a(22)),u=a(2),h=a.n(u),g=(a(29),function(e){var t=e.src,a=e.alt,n=e.className,i=e.width,c=e.height,o=e.circle,l=Object(v.a)(e,["src","alt","className","width","height","circle"]),s=h()(n,{circle:o});return t||(t="https://via.placeholder.com/".concat(i,"x").concat(c)),r.a.createElement("img",Object.assign({src:t,alt:a,className:s,width:i,height:c},l))});g.defaultProps={src:"",alt:"image",width:"",height:"",circle:!1,className:""};var d=g,p=a(18),f=a.n(p),y=function(){return r.a.createElement("div",{className:"header d-flex align-items-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar d-flex justify-content-between align-items-center"},r.a.createElement("a",{className:"navbar-item d-flex",href:"/movie-base/"},r.a.createElement(d,{src:f.a,alt:"logo",width:80,height:80})))))},b=a(14),E=a(37),W=a(38),M=function(e){var t=e.moviesWillWatch,a=e.moviesGenre,n=e.moviesGenreActive,i=e.currentPage,c=e.total_pages,o=e.addMoviesGenre,l=e.removeMoviesGenre,s=e.onChangePopularity,m=e.onChangeYear,v=e.paginationIncrease,u=e.paginationDecrease,h=function(){for(var e=[],t=(new Date).getFullYear();t>1970;t--)e.push(t);return e}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,"\u0411\u0443\u0434\u0443 \u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c: ",t.length),r.a.createElement("h3",null,"Filters"),r.a.createElement(E.a,null,r.a.createElement("div",null,r.a.createElement(E.a.Label,null,"Sort By:"),r.a.createElement(E.a.Control,{as:"select",onChange:s},["popularity.desc","revenue.desc","vote_average.desc"].map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement(E.a.Label,null,"Release Year:"),r.a.createElement(E.a.Control,{as:"select",onChange:m},r.a.createElement("option",null,"\u0432\u044b\u0431\u0438\u0440\u0438\u0442\u0435 \u0433\u043e\u0434"),h.map((function(e){return r.a.createElement("option",{key:e,value:e},e)})))),r.a.createElement("div",null,r.a.createElement(E.a.Label,null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0436\u0430\u043d\u0440:"),r.a.createElement("div",{className:"d-flex"},r.a.createElement("div",null,a.map((function(e){var t=e.name,a=e.id,i=-1!==n.indexOf(a);return r.a.createElement(W.a,{key:a,className:i?"active":"",onClick:function(){return i?l(a):o(a)}},t)}))))),r.a.createElement("button",{className:"btn-primary"},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440"),r.a.createElement("div",{className:"pagination"},r.a.createElement("div",{className:"btn-group"},r.a.createElement(W.a,{className:"btn-primary",onClick:function(){return u()}},"\u041d\u0430\u0437\u0430\u0434"),r.a.createElement("div",null,"".concat(i," \u0438\u0437 ").concat(c)),r.a.createElement(W.a,{className:"btn-primary",onClick:function(){v()}},"\u0412\u043f\u0435\u0440\u0435\u0434")))))},_=a(35),G=a(20),N=a(10),j=a.n(N),P=a(21),C=a.n(P),O=a(13),k=(a(33),function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={willWatch:!1},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.movie,n=t.removeMovie,i=t.addMovieToWillWatch,c=t.removeMovieToWillWatch;return r.a.createElement(_.a,null,r.a.createElement(G.a,{xs:12,lg:6,className:"card-img"},a.poster_path?r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{className:"card-img-top",src:"https://image.tmdb.org/t/p/w500".concat(a.poster_path),alt:"card-img"})):r.a.createElement("img",{className:"card-img-top",src:C.a,alt:""})),r.a.createElement(G.a,{xs:12,lg:6,className:"card-body"},r.a.createElement("div",{className:"d-flex justify-content-between align-items-center"},r.a.createElement(W.a,{className:"btn btn-primary",onClick:n.bind(null,a)},r.a.createElement(j.a,{className:"",name:"trash",size:"1x",style:{color:"rgb(27, 105, 217)"}})," "),r.a.createElement("div",{style:{width:50,height:50}},r.a.createElement(O.a,{value:10*a.vote_average,text:"".concat(10*a.vote_average,"%"),strokeWidth:7,styles:Object(O.b)({textColor:"#1B69D9",pathColor:"#1B69D9",trailColor:""})})),this.state.willWatch?r.a.createElement(W.a,{type:"button",className:"btn btn-success",onClick:function(){e.setState({willWatch:!1}),c(a)}},r.a.createElement(j.a,{className:"",name:"heart",size:"1x",style:{color:"rgb(27, 105, 217)"}})):r.a.createElement(W.a,{type:"button",className:"btn btn-primary",onClick:function(){e.setState({willWatch:!0}),i(a)}},r.a.createElement(j.a,{className:"",name:"heart",size:"1x",style:{color:"rgb(27, 105, 217)"}}))),r.a.createElement("h6",{className:"card-title"},a.title),r.a.createElement("div",null,"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435...")))}}]),a}(n.Component)),x=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=(e.currentPage,e.movies),a=(e.sort_by,e.sort_year,e.updateSortBy,e.removeMovie),n=e.addMovieToWillWatch,i=e.removeMovieToWillWatch;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{className:"mb-4"},r.a.createElement(G.a,{xs:12})),r.a.createElement(_.a,null,t.map((function(e){return r.a.createElement(G.a,{xs:6,md:6,className:"mb-4",key:e.id},r.a.createElement(k,{movie:e,removeMovie:a,addMovieToWillWatch:n,removeMovieToWillWatch:i}))}))))}}]),a}(n.Component),w=a(36),S="https://api.themoviedb.org/3/",A="e087dbd99b6b5cf5949d0943b02906a5",B=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[],moviesGenre:[],moviesGenreActive:[],moviesWillWatch:[],currentPage:1,total_pages:null,sort_by:"popularity.desc",sortByPrimaryReleaseYear:null},e.getMovie=function(){var t=e.state,a=t.sort_by,n=t.currentPage,r=t.moviesGenreActive,i=t.sortByPrimaryReleaseYear;fetch("".concat(S,"discover/movie?api_key=").concat(A,"&sort_by=").concat(a,"&page=").concat(n,"&with_genres=").concat(r,"&primary_release_year=").concat(i)).then((function(e){return e.json()})).then((function(t){return e.setState({movies:t.results,total_pages:t.total_pages})}))},e.getMovieGenre=function(){fetch("".concat(S,"genre/movie/list?api_key=").concat(A)).then((function(e){return e.json()})).then((function(t){return e.setState({moviesGenre:t.genres})}))},e.removeMovie=function(t){var a=e.state.movies.filter((function(e){return e.id!==t.id}));e.setState({movies:a})},e.addMovieToWillWatch=function(t){var a=[].concat(Object(b.a)(e.state.moviesWillWatch),[t]);e.setState({moviesWillWatch:a})},e.removeMovieToWillWatch=function(t){var a=e.state.moviesWillWatch.filter((function(e){return e.id!==t.id}));e.setState({moviesWillWatch:a})},e.paginationIncrease=function(){var t=e.state.currentPage+1;e.setState({currentPage:t}),console.log(e.state.currentPage)},e.paginationDecrease=function(){if(e.state.currentPage>=2){console.log(e.state.currentPage);var t=e.state.currentPage-1;e.setState({currentPage:t})}},e.updateSortBy=function(t){e.setState({sort_by:t})},e.onChangePopularity=function(t){e.setState({sort_by:t})},e.onChangeYear=function(t){e.setState({sortByPrimaryReleaseYear:t})},e.addMoviesGenre=function(t){var a=[].concat(Object(b.a)(e.state.moviesGenreActive),[t]);e.setState({moviesGenreActive:a})},e.removeMoviesGenre=function(t){var a=e.state.moviesGenreActive.filter((function(e){return e!==t}));e.setState({moviesGenreActive:a})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getMovie(),this.getMovieGenre()}},{key:"componentDidUpdate",value:function(e,t){t.sort_by!==this.state.sort_by&&(this.getMovie(),this.getMovieGenre()),t.currentPage!==this.state.currentPage&&(this.getMovie(),this.getMovieGenre()),t.moviesGenreActive!==this.state.moviesGenreActive&&(this.getMovie(),this.getMovieGenre()),t.sortByPrimaryReleaseYear!==this.state.sortByPrimaryReleaseYear&&(this.getMovie(),this.getMovieGenre())}},{key:"render",value:function(){var e=this.state,t=e.movies,a=e.moviesGenre,n=e.moviesGenreActive,i=e.moviesWillWatch,c=e.currentPage,o=e.total_pages,l=e.sort_by,s=e.sort_year,m=this.onChangePopularity,v=this.onChangeYear,u=this.updateSortBy,h=this.removeMovie,g=this.addMoviesGenre,d=this.removeMoviesGenre,p=this.addMovieToWillWatch,f=this.removeMovieToWillWatch,y=this.paginationIncrease,b=this.paginationDecrease;return r.a.createElement(w.a,null,r.a.createElement(_.a,null,r.a.createElement(G.a,{xs:12,sm:12,md:3,lg:3},r.a.createElement(M,{currentPage:c,total_pages:o,moviesWillWatch:i,movies:t,moviesGenre:a,moviesGenreActive:n,addMoviesGenre:g,removeMoviesGenre:d,sort_by:l,onChangePopularity:function(e){return m(e.target.value)},onChangeYear:function(e){return v(e.target.value)},paginationIncrease:y,paginationDecrease:b})),r.a.createElement(G.a,{xs:12,sm:12,md:9,lg:9},r.a.createElement(x,{currentPage:c,movies:t,sort_by:l,sort_year:s,updateSortBy:u,removeMovie:h,addMovieToWillWatch:p,removeMovieToWillWatch:f}))))}}]),a}(n.Component),T=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(y,null),r.a.createElement(B,null))}}]),a}(r.a.Component);c.a.render(r.a.createElement(T,null),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.9920034d.chunk.js.map